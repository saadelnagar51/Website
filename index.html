
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقعي الشخصي</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/tawkto"></script> <!-- Tawk.to live chat integration -->
</head>
<body>

<header>
    <img src="images/logo.png" alt="شعار الموقع" class="logo">
    <h1>مرحبًا في موقعي الشخصي</h1>
</header>

<!-- User Registration and Login Section -->
<section id="user-auth">
    <h2>تسجيل الدخول أو إنشاء حساب</h2>
    <form id="login-form" style="display:none">
        <label for="email">البريد الإلكتروني:</label>
        <input type="email" id="login-email" placeholder="أدخل بريدك الإلكتروني" required>
        <label for="password">كلمة المرور:</label>
        <input type="password" id="login-password" placeholder="أدخل كلمة المرور" required>
        <button type="submit">تسجيل الدخول</button>
        <p>ليس لديك حساب؟ <a href="#" onclick="showRegisterForm()">أنشئ حسابًا جديدًا</a></p>
    </form>
    
    <form id="register-form">
        <label for="new-email">البريد الإلكتروني:</label>
        <input type="email" id="new-email" placeholder="أدخل بريدك الإلكتروني" required>
        <label for="new-password">كلمة المرور:</label>
        <input type="password" id="new-password" placeholder="أدخل كلمة المرور" required>
        <button type="submit">إنشاء حساب</button>
        <p>هل لديك حساب؟ <a href="#" onclick="showLoginForm()">تسجيل الدخول</a></p>
    </form>
</section>

<!-- Display Services and Live Chat After Login -->
<section id="user-services" style="display:none">
    <h2>الخدمات المتاحة</h2>
    <div class="service">
        <h3>المدونة</h3>
        <p>استعرض أحدث المقالات والمحتوى الحصري على مدونتنا.</p>
    </div>
    <div class="service">
        <h3>التقييمات</h3>
        <p>قيم خدماتنا من 1 إلى 5 نجوم.</p>
    </div>
    <div class="service">
        <h3>التعليقات</h3>
        <p>يمكنك إضافة تعليقات حول محتوى الموقع.</p>
    </div>
    <div class="service">
        <h3>البحث المتقدم</h3>
        <input type="text" placeholder="ابحث هنا...">
        <button>بحث</button>
    </div>
    
    <!-- Live Chat Integration -->
    <section class="live-chat">
        <h2>الدردشة الحية</h2>
        <p>يمكنك الآن التحدث مباشرة معنا عبر <strong>Tawk.to</strong></p>
    </section>
</section>

<footer>
    <p>حقوق الطبع والنشر © 2025</p>
</footer>

<script>
    let users = JSON.parse(localStorage.getItem('users')) || [];
    let currentUser = JSON.parse(localStorage.getItem('currentUser'));

    function showLoginForm() {
        document.getElementById("login-form").style.display = "block";
        document.getElementById("register-form").style.display = "none";
    }

    function showRegisterForm() {
        document.getElementById("login-form").style.display = "none";
        document.getElementById("register-form").style.display = "block";
    }

    function registerUser(email, password) {
        users.push({ email, password });
        localStorage.setItem('users', JSON.stringify(users));
        Swal.fire('تم التسجيل!', 'يمكنك الآن تسجيل الدخول!', 'success');
    }

    function loginUser(email, password) {
        let user = users.find(u => u.email === email && u.password === password);
        if (user) {
            localStorage.setItem('currentUser', JSON.stringify(user));
            Swal.fire('تم تسجيل الدخول!', 'أهلاً بك في موقعي الشخصي!', 'success');
            showUserServices();
        } else {
            Swal.fire('فشل تسجيل الدخول', 'البريد الإلكتروني أو كلمة المرور غير صحيحة', 'error');
        }
    }

    function showUserServices() {
        document.getElementById("user-auth").style.display = "none";
        document.getElementById("user-services").style.display = "block";
    }

    document.getElementById("register-form").addEventListener("submit", function (event) {
        event.preventDefault();
        const email = document.getElementById("new-email").value;
        const password = document.getElementById("new-password").value;
        registerUser(email, password);
    });

    document.getElementById("login-form").addEventListener("submit", function (event) {
        event.preventDefault();
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;
        loginUser(email, password);
    });

    if (currentUser) {
        showUserServices();
    }
</script>

</body>
</html>
